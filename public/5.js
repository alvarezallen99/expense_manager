(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{281:function(e,t,a){"use strict";var r=a(38);a.n(r).a},282:function(e,t,a){(e.exports=a(17)(!1)).push([e.i,"tbody tr[data-v-28dae6a8]:nth-of-type(2n){background-color:#eceded}tbody tr[data-v-28dae6a8]:nth-of-type(odd){background-color:#fafafa}.table[data-v-28dae6a8] .table tfoot tr{border-bottom:1px solid #000}#left-header[data-v-28dae6a8],#middle-header[data-v-28dae6a8],#right-header[data-v-28dae6a8]{background-color:#b0bec5}#left-header[data-v-28dae6a8],#middle-header[data-v-28dae6a8]{border-right:2px solid #000}#mytable[data-v-28dae6a8]{border:2px solid #000}",""])},38:function(e,t,a){var r=a(282);"string"==typeof r&&(r=[[e.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(18)(r,s);r.locals&&(e.exports=r.locals)},451:function(e,t,a){"use strict";a.r(t);var r={data:function(){return{addDialog:!1,updateDialog:!1,deleteDialog:!1,errorMessages:"",dropdown_roles:[],tbldata:[],addForm:{name:"",email:"",password:"",role_name:""},updateForm:{id:"",name:"",email:"",password:"",role_name:""},bread_items:[{text:"User Management",disabled:!1,href:"breadcrumbs_dashboard"},{text:"Users",disabled:!0,href:"breadcrumbs_link_1"}]}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.$http.post("".concat(this.url,"/v1/users")).then((function(t){var a=t.data.message;e.tbldata.splice(0);for(var r=0;r<a.length;r++)e.tbldata.push(a[r]);e.dropdown_roles.splice(0),e.dropdown_roles=t.data.roles})).catch((function(e){console.log(e)}))},deleteUser:function(){var e=this;this.$http.post("".concat(this.url,"/v1/delete_user"),this.updateForm).then((function(t){t.data.message;for(var a=0;a<e.tbldata.length;a++)e.tbldata[a].id==e.updateForm.id&&e.tbldata.splice(a,1);e.deleteDialog=!1,e.updateDialog=!1,e.$toast.success(t.data.message)})).catch((function(t){null==t.response.data.message?(e.$toast.error("Operation Failed!",String(t.response.status)),console.clear()):e.$toast.warning(t.response.data.message)}))},showAddRoleForm:function(){this.addDialog=!0,this.resetForms(),null!=this.$refs.form&&this.$refs.form.resetValidation()},addUser:function(){var e=this;this.$http.post("".concat(this.url,"/v1/add_user"),this.addForm).then((function(t){var a=t.data.message;e.tbldata.push(a[0]),e.addDialog=!1,e.$toast.success("Successfully Added User!")})).catch((function(t){null==t.response.data.message?(e.$toast.error("Operation Failed!",String(t.response.status)),console.clear()):e.$toast.warning(t.response.data.message)}))},showUpdateDialog:function(e){this.resetForms();for(var t=0;t<this.tbldata.length;t++)this.tbldata[t].id==e&&(this.updateForm.id=this.tbldata[t].id,this.updateForm.name=this.tbldata[t].name,this.updateForm.email=this.tbldata[t].email,this.updateForm.role_name=this.tbldata[t].role_name);this.updateDialog=!0,null!=this.$refs.updateform&&this.$refs.updateform.resetValidation()},updateUser:function(){var e=this;this.$http.post("".concat(this.url,"/v1/update_user"),this.updateForm).then((function(t){for(var a=t.data.message,r=0;r<e.tbldata.length;r++)e.tbldata[r].id==a[0].id&&(e.tbldata[r].name=a[0].name,e.tbldata[r].email=a[0].email,e.tbldata[r].role=a[0].role,e.tbldata[r].role_name=a[0].role_name,e.tbldata[r].created_at=a[0].created_at);e.updateDialog=!1,e.$toast.success("Successfully Updated User!")})).catch((function(t){null==t.response.data.message?(e.$toast.error("Operation Failed!",String(t.response.status)),console.clear()):e.$toast.warning(t.response.data.message)}))},cancelUserForm:function(){this.addDialog=!1,this.updateDialog=!1},resetForms:function(){this.addForm.name="",this.addForm.email="",this.addForm.password="",this.addForm.role_name="",this.updateForm.id="",this.updateForm.name="",this.updateForm.email="",this.updateForm.password="",this.updateForm.role_name=""}}},s=(a(281),a(4)),d=Object(s.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{staticClass:"d-flex flex-row mb-6"},[a("h2",[e._v("Users")])]),e._v(" "),a("v-breadcrumbs",{attrs:{items:e.bread_items},scopedSlots:e._u([{key:"divider",fn:function(){return[a("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0}])})],1),e._v(" "),a("v-card",{attrs:{outlined:""}},[a("v-simple-table",{staticClass:"mr-5 ml-5 mt-5",attrs:{id:"mytable","fixed-header":"",dense:"",stripe:"",height:"250px"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{id:"left-header"}},[e._v("Name")]),e._v(" "),a("th",{staticClass:"text-left",attrs:{id:"middle-header"}},[e._v("Email Address")]),e._v(" "),a("th",{staticClass:"text-left",attrs:{id:"middle-header"}},[e._v("Role")]),e._v(" "),a("th",{staticClass:"text-left",attrs:{id:"right-header"}},[e._v("Created at")])])]),e._v(" "),a("tbody",e._l(e.tbldata,(function(t,r){return a("tr",{key:r,on:{click:function(t){return e.showUpdateDialog(e.tbldata[r].id)}}},[a("td",{staticStyle:{"border-right":"2px solid black"}},[e._v(e._s(e.tbldata[r].name))]),e._v(" "),a("td",{staticStyle:{"border-right":"2px solid black"}},[e._v(e._s(e.tbldata[r].email))]),e._v(" "),a("td",{staticStyle:{"border-right":"2px solid black"}},[e._v(e._s(e.tbldata[r].role_name))]),e._v(" "),a("td",[e._v(e._s(e.tbldata[r].created_at))])])})),0)]},proxy:!0}])}),e._v(" "),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),e._v(" "),a("v-btn",{staticClass:"primary mr-3",attrs:{outlined:"",small:"",dark:""},on:{click:function(t){return e.showAddRoleForm()}}},[e._v("Add User")])],1)],1),e._v(" "),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"350px",dense:""},model:{value:e.addDialog,callback:function(t){e.addDialog="string"==typeof t?t.trim():t},expression:"addDialog"}},[a("v-card",[a("v-card-title",[e._v("Add User")]),e._v(" "),a("v-divider"),a("br"),e._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":!0}},[a("v-card-text",{staticClass:"mt-n5"},[a("v-text-field",{ref:"name",attrs:{rules:[function(){return!!e.addForm.name||"This field is required"}],"error-messages":e.errorMessages,label:"Name",placeholder:"Name",required:""},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"==typeof t?t.trim():t)},expression:"addForm.name"}})],1),e._v(" "),a("v-card-text",{staticClass:"mt-n5 mb-n10"},[a("v-text-field",{ref:"email",attrs:{rules:[function(){return!!e.addForm.email||"This field is required"}],"error-messages":e.errorMessages,label:"Email Address",type:"email",placeholder:"Email Address",required:""},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email","string"==typeof t?t.trim():t)},expression:"addForm.email"}})],1),e._v(" "),a("v-card-text",{staticClass:"mt-2 mb-n10"},[a("v-text-field",{ref:"password",attrs:{rules:[function(){return!!e.addForm.password||"This field is required"}],"error-messages":e.errorMessages,label:"Password",placeholder:"Password",type:"password",required:""},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password","string"==typeof t?t.trim():t)},expression:"addForm.password"}})],1),e._v(" "),a("v-card-text",{staticClass:"mt-5 mb-n10"},[a("v-select",{ref:"role_name",attrs:{rules:[function(){return!!e.addForm.role_name||"Role is required"}],"error-messages":e.errorMessages,items:e.dropdown_roles,label:"Role",required:"",dense:""},model:{value:e.addForm.role_name,callback:function(t){e.$set(e.addForm,"role_name","string"==typeof t?t.trim():t)},expression:"addForm.role_name"}})],1)],1),e._v(" "),a("v-divider",{staticClass:"mt-12"}),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"warning",small:"",dark:"",width:"75px",outlined:""},on:{click:function(t){return e.cancelUserForm()}}},[e._v("CANCEL")]),e._v(" "),a("v-btn",{attrs:{color:"primary",small:"",dark:"",width:"75px"},on:{click:function(t){return e.addUser()}}},[e._v("SAVE")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"350px",dense:""},model:{value:e.updateDialog,callback:function(t){e.updateDialog="string"==typeof t?t.trim():t},expression:"updateDialog"}},[a("v-card",[a("v-card-title",[e._v("Update User")]),e._v(" "),a("v-divider"),a("br"),e._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":!0}},[a("v-card-text",{staticClass:"mt-n5"},[a("v-text-field",{ref:"name",attrs:{rules:[function(){return!!e.updateForm.name||"This field is required"}],"error-messages":e.errorMessages,label:"Name",placeholder:"Name",required:""},model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name","string"==typeof t?t.trim():t)},expression:"updateForm.name"}})],1),e._v(" "),a("v-card-text",{staticClass:"mt-n5 mb-n10"},[a("v-text-field",{ref:"email",attrs:{rules:[function(){return!!e.updateForm.email||"This field is required"}],"error-messages":e.errorMessages,label:"Email Address",type:"email",placeholder:"Email Address",required:""},model:{value:e.updateForm.email,callback:function(t){e.$set(e.updateForm,"email","string"==typeof t?t.trim():t)},expression:"updateForm.email"}})],1),e._v(" "),a("v-card-text",{staticClass:"mt-2 mb-n10"},[a("v-text-field",{ref:"password",attrs:{rules:[function(){return!!e.updateForm.password||"This field is required"}],"error-messages":e.errorMessages,label:"New Password",placeholder:"New Password",type:"password",required:""},model:{value:e.updateForm.password,callback:function(t){e.$set(e.updateForm,"password","string"==typeof t?t.trim():t)},expression:"updateForm.password"}})],1),e._v(" "),a("v-card-text",{staticClass:"mt-5 mb-n10"},[a("v-select",{ref:"role_name",attrs:{rules:[function(){return!!e.updateForm.role_name||"Role is required"}],"error-messages":e.errorMessages,items:e.dropdown_roles,label:"Role",required:"",dense:""},model:{value:e.updateForm.role_name,callback:function(t){e.$set(e.updateForm,"role_name","string"==typeof t?t.trim():t)},expression:"updateForm.role_name"}})],1)],1),e._v(" "),a("v-divider",{staticClass:"mt-12"}),e._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"error",small:"",width:"75px"},on:{click:function(t){e.deleteDialog=!0}}},[e._v("DELETE")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"warning",small:"",dark:"",width:"75px",outlined:""},on:{click:function(t){return e.cancelUserForm()}}},[e._v("CANCEL")]),e._v(" "),a("v-btn",{attrs:{color:"primary",small:"",dark:"",width:"75px"},on:{click:function(t){return e.updateUser()}}},[e._v("UPDATE")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Delete?")]),e._v(" "),a("v-card-text",[e._v("Are you sure you want to delete this user?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"warning darken-1",text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(t){return e.deleteUser()}}},[e._v("Confirm")])],1)],1)],1)],1)],1)}),[],!1,null,"28dae6a8",null);t.default=d.exports}}]);