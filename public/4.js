(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{279:function(t,e,a){"use strict";var r=a(37);a.n(r).a},280:function(t,e,a){(t.exports=a(17)(!1)).push([t.i,"tbody tr[data-v-7aba0cc6]:nth-of-type(2n){background-color:#eceded}tbody tr[data-v-7aba0cc6]:nth-of-type(odd){background-color:#fafafa}.table[data-v-7aba0cc6] .table tfoot tr{border-bottom:1px solid #000}#left-header[data-v-7aba0cc6],#middle-header[data-v-7aba0cc6],#right-header[data-v-7aba0cc6]{background-color:#b0bec5}#left-header[data-v-7aba0cc6],#middle-header[data-v-7aba0cc6]{border-right:2px solid #000}#mytable[data-v-7aba0cc6]{border:2px solid #000}",""])},37:function(t,e,a){var r=a(280);"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(18)(r,s);r.locals&&(t.exports=r.locals)},450:function(t,e,a){"use strict";a.r(e);var r={data:function(){return{addDialog:!1,updateDialog:!1,deleteDialog:!1,errorMessages:"",tbldata:[],addForm:{name:"",description:""},updateForm:{id:"",name:"",description:""},bread_items:[{text:"User Management",disabled:!1,href:"breadcrumbs_dashboard"},{text:"Roles",disabled:!0,href:"breadcrumbs_link_1"}]}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.$http.post("".concat(this.url,"/v1/roles")).then((function(e){var a=e.data.message;t.tbldata.splice(0);for(var r=0;r<a.length;r++)t.tbldata.push(a[r])})).catch((function(t){console.log(t)}))},deleteRole:function(){var t=this;this.$http.post("".concat(this.url,"/v1/delete_role"),this.updateForm).then((function(e){e.data.message;for(var a=0;a<t.tbldata.length;a++)t.tbldata[a].id==t.updateForm.id&&t.tbldata.splice(a,1);t.deleteDialog=!1,t.updateDialog=!1,t.$toast.success(e.data.message)})).catch((function(e){null==e.response.data.message?(t.$toast.error("Operation Failed!",String(e.response.status)),console.clear()):t.$toast.warning(e.response.data.message)}))},showAddRoleForm:function(){this.addDialog=!0,this.resetForms(),null!=this.$refs.form&&this.$refs.form.resetValidation()},addRole:function(){var t=this;this.$http.post("".concat(this.url,"/v1/add_role"),this.addForm).then((function(e){var a=e.data.message;t.tbldata.push(a[0]),t.addDialog=!1,t.$toast.success("Successfully Added Role!")})).catch((function(e){null==e.response.data.message?(t.$toast.error("Operation Failed!",String(e.response.status)),console.clear()):t.$toast.warning(e.response.data.message)}))},showUpdateDialog:function(t){this.resetForms();for(var e=0;e<this.tbldata.length;e++)this.tbldata[e].id==t&&(this.updateForm.id=t,this.updateForm.name=this.tbldata[e].name,this.updateForm.description=this.tbldata[e].description);this.updateDialog=!0,null!=this.$refs.updateform&&this.$refs.updateform.resetValidation()},updateRole:function(){var t=this;this.$http.post("".concat(this.url,"/v1/update_role"),this.updateForm).then((function(e){for(var a=e.data.message,r=0;r<t.tbldata.length;r++)t.tbldata[r].id==a[0].id&&(t.tbldata[r].name=a[0].name,t.tbldata[r].description=a[0].description,t.tbldata[r].created_at=a[0].created_at);t.updateDialog=!1,t.$toast.success("Successfully Updated Role!")})).catch((function(e){null==e.response.data.message?(t.$toast.error("Operation Failed!",String(e.response.status)),console.clear()):t.$toast.warning(e.response.data.message)}))},cancelRoleForm:function(){this.addDialog=!1,this.updateDialog=!1},resetForms:function(){this.addForm.name="",this.addForm.description="",this.updateForm.id="",this.updateForm.name="",this.updateForm.description=""}}},s=(a(279),a(4)),i=Object(s.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{staticClass:"d-flex flex-row mb-6"},[a("h2",[t._v("Roles")])]),t._v(" "),a("v-breadcrumbs",{attrs:{items:t.bread_items},scopedSlots:t._u([{key:"divider",fn:function(){return[a("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1),t._v(" "),a("v-card",{attrs:{outlined:""}},[a("v-simple-table",{staticClass:"mr-5 ml-5 mt-5",attrs:{id:"mytable","fixed-header":"",dense:"",stripe:"",height:"250px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{id:"left-header"}},[t._v("Display Name")]),t._v(" "),a("th",{staticClass:"text-left",attrs:{id:"middle-header"}},[t._v("Description")]),t._v(" "),a("th",{staticClass:"text-left",attrs:{id:"right-header"}},[t._v("Created at")])])]),t._v(" "),a("tbody",t._l(t.tbldata,(function(e,r){return a("tr",{key:r,on:{click:function(e){return t.showUpdateDialog(t.tbldata[r].id)}}},[a("td",{staticStyle:{"border-right":"2px solid black"}},[t._v(t._s(t.tbldata[r].name))]),t._v(" "),a("td",{staticStyle:{"border-right":"2px solid black"}},[t._v(t._s(t.tbldata[r].description))]),t._v(" "),a("td",[t._v(t._s(t.tbldata[r].created_at))])])})),0)]},proxy:!0}])}),t._v(" "),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),t._v(" "),a("v-btn",{staticClass:"primary mr-3",attrs:{outlined:"",small:"",dark:""},on:{click:function(e){return t.showAddRoleForm()}}},[t._v("Add Role")])],1)],1),t._v(" "),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px",dense:""},model:{value:t.addDialog,callback:function(e){t.addDialog="string"==typeof e?e.trim():e},expression:"addDialog"}},[a("v-card",[a("v-card-title",[t._v("Add Role")]),t._v(" "),a("v-divider"),a("br"),t._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":!0}},[a("v-card-text",{staticClass:"mt-n5"},[a("v-text-field",{ref:"name",attrs:{rules:[function(){return!!t.addForm.name||"This field is required"}],"error-messages":t.errorMessages,label:"Display Name",placeholder:"Display Name",required:""},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name","string"==typeof e?e.trim():e)},expression:"addForm.name"}})],1),t._v(" "),a("v-card-text",{staticClass:"mt-n5 mb-n10"},[a("v-text-field",{ref:"description",attrs:{rules:[function(){return!!t.addForm.description||"This field is required"}],"error-messages":t.errorMessages,label:"Description",placeholder:"Description",required:""},model:{value:t.addForm.description,callback:function(e){t.$set(t.addForm,"description","string"==typeof e?e.trim():e)},expression:"addForm.description"}})],1)],1),t._v(" "),a("v-divider",{staticClass:"mt-12"}),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"warning",small:"",dark:"",width:"75px",outlined:""},on:{click:function(e){return t.cancelRoleForm()}}},[t._v("CANCEL")]),t._v(" "),a("v-btn",{attrs:{color:"primary",small:"",dark:"",width:"75px"},on:{click:function(e){return t.addRole()}}},[t._v("SAVE")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px",dense:""},model:{value:t.updateDialog,callback:function(e){t.updateDialog="string"==typeof e?e.trim():e},expression:"updateDialog"}},[a("v-card",[a("v-card-title",[t._v("Update Role")]),t._v(" "),a("v-divider"),a("br"),t._v(" "),a("v-form",{ref:"updateform",attrs:{"lazy-validation":!0}},[a("v-card-text",{staticClass:"mt-n5"},[a("v-text-field",{ref:"name",attrs:{rules:[function(){return!!t.updateForm.name||"This field is required"}],"error-messages":t.errorMessages,label:"Display Name",placeholder:"Display Name",required:""},model:{value:t.updateForm.name,callback:function(e){t.$set(t.updateForm,"name","string"==typeof e?e.trim():e)},expression:"updateForm.name"}})],1),t._v(" "),a("v-card-text",{staticClass:"mt-n5 mb-n10"},[a("v-text-field",{ref:"description",attrs:{rules:[function(){return!!t.updateForm.description||"This field is required"}],"error-messages":t.errorMessages,label:"Description",placeholder:"Description",required:""},model:{value:t.updateForm.description,callback:function(e){t.$set(t.updateForm,"description","string"==typeof e?e.trim():e)},expression:"updateForm.description"}})],1)],1),t._v(" "),a("v-divider",{staticClass:"mt-12"}),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"error",small:"",width:"75px"},on:{click:function(e){t.deleteDialog=!0}}},[t._v("DELETE")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"warning",small:"",dark:"",width:"75px",outlined:""},on:{click:function(e){return t.cancelRoleForm()}}},[t._v("CANCEL")]),t._v(" "),a("v-btn",{attrs:{color:"primary",small:"",dark:"",width:"75px"},on:{click:function(e){return t.updateRole()}}},[t._v("UPDATE")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Delete?")]),t._v(" "),a("v-card-text",[t._v("Are you sure you want to delete this role?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"warning darken-1",text:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){return t.deleteRole()}}},[t._v("Confirm")])],1)],1)],1)],1)],1)}),[],!1,null,"7aba0cc6",null);e.default=i.exports}}]);